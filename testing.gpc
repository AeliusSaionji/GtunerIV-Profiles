main {
  static fix32 x_out, y_out;
  static fix32 x_prev, y_prev;

  fix32 valX = get_actual(STICK_2_X);
  fix32 valY = get_actual(STICK_2_Y);

  if(valY != y_prev || valX != x_prev) {
    x_prev = valX, y_prev = valY;

    fix32 xy_actual = sqrt(sq(valX) + sq(valY));
    fix32 xy_out = (1.25) * xy_actual - (25f);

    if(xy_actual < 30.0) y_out = 0.00, x_out = 0.00;
    else {
      x_out = clamp((valX * (xy_out / xy_actual)), -100.0, 100.0);
      y_out = clamp((valY * (xy_out / xy_actual)), -100.0, 100.0);
    }
  }
  set_val(STICK_2_X, x_out);
  set_val(STICK_2_Y, y_out);
}